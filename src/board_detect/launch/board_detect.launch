<launch>
    <!-- 相机话题参数 -->
    <arg name="camera_topic"       default="/iris_front_down_camera/camera/rgb/image_raw" />
    <arg name="camera_info_topic"  default="/iris_front_down_camera/camera/rgb/camera_info" />
    
    <!-- ArUco标记板配置参数 -->
    <arg name="markers_x"          default="2" />      <!-- 标记板X方向标记数量 -->
    <arg name="markers_y"          default="2" />      <!-- 标记板Y方向标记数量 -->
    <arg name="marker_length"      default="0.16" />   <!-- 单个标记边长(米) -->
    <arg name="marker_separation"  default="0.04" />   <!-- 标记间间距(米) -->
    <arg name="dictionary_id"      default="0" />     <!-- 字典ID(0=DICT_4X4_50) -->
    
    <!-- 输出话题配置 -->
    <arg name="pose_topic"         default="board_detect/pose" />        <!-- 位姿输出话题 -->
    <arg name="debug_topic"        default="board_detect/debug_image" />  <!-- 调试图像话题 -->
    
    <!-- 调试参数 -->
    <arg name="show_debug_image"   default="true" />  <!-- 是否显示调试图像 -->
    <arg name="node_name"          default="board_detect" />        <!-- 节点名称 -->
    <arg name="output"             default="screen" />                   <!-- 输出方式 -->

    <!-- ArUco板检测节点 -->
    <node pkg="board_detect" type="board_detect" name="$(arg node_name)" output="$(arg output)">
        
        <!-- 相机话题参数 -->
        <param name="camera_topic"      value="$(arg camera_topic)" />
        <param name="camera_info_topic" value="$(arg camera_info_topic)" />
        
        <!-- ArUco标记板参数 -->
        <param name="markers_x"         value="$(arg markers_x)" />
        <param name="markers_y"         value="$(arg markers_y)" />
        <param name="marker_length"     value="$(arg marker_length)" />
        <param name="marker_separation" value="$(arg marker_separation)" />
        <param name="dictionary_id"     value="$(arg dictionary_id)" />
        
        <!-- 输出话题参数 -->
        <param name="pose_topic"        value="$(arg pose_topic)" />
        <param name="debug_topic"       value="$(arg debug_topic)" />
        
        <!-- 调试参数 -->
        <param name="show_debug_image"  value="$(arg show_debug_image)" />
        
    </node>
    <!-- 调试图像查看节点 -->
    <node name="image_view" pkg="rqt_image_view" type="rqt_image_view" args="/board_detect/debug_image" />
</launch>